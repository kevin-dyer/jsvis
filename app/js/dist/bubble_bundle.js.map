{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "bubble.js",
    "vis_modules/bubble_js_module.js",
    "vis_modules/circle_module.js",
    "vis_modules/color_module.js",
    "vis_modules/dimensions_module.js",
    "vis_modules/editor_module.js",
    "vis_modules/extension_module.js",
    "vis_modules/react_module.js",
    "vis_modules/selections_module.js",
    "vis_modules/text_module.js",
    "vis_modules/tooltip_module.js",
    "vis_modules/tree_module.js",
    "vis_modules/zoom_module.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA,YAAY,CAAC;;;;AAIb,IAAI,QAAQ,GAAG,OAAO,CAAC,mCAAmC,CAAC;IACvD,cAAc,GAAG,OAAO,CAAC,mCAAmC,CAAC;IAC7D,eAAe,GAAG,OAAO,CAAC,oCAAoC,CAAC;IAC/D,SAAS,GAAG,OAAO,CAAC,8BAA8B,CAAC;IACnD,WAAW,GAAG,OAAO,CAAC,gCAAgC,CAAC;IACvD,QAAQ,GAAG,OAAO,CAAC,iCAAiC,CAAC;IACrD,UAAU,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC;;AAE1D,IAAI,CAAC,EACD,CAAC,EACD,gBAAgB,CAAC;;AAErB,cAAc,CAAC,YAAY,EAAE,CAAC;AAC9B,eAAe,CAAC,gBAAgB,EAAE,CAAC;AACnC,CAAC,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;AAC/B,CAAC,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;AAChC,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACzB,WAAW,CAAC,UAAU,EAAE,CAAC;AACzB,QAAQ,CAAC,WAAW,EAAE,CAAC;;AAEvB,QAAQ,CAAC,OAAO,EAAE,CAAC;;AAEnB,IAAI,IAAI,GAAG,cAAc,CAAC,WAAW,EAAE,CAAC;AACxC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;AAEtB,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,YAAY;AAC3B,gBAAY,CAAC,gBAAgB,CAAC,CAAC;AAC/B,oBAAgB,GAAG,UAAU,CAAC,QAAQ,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;CACxD,CAAC,CAAC;AACH,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAY;AAC5B,KAAC,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAC9C,KAAC,CAAC,sBAAsB,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;AACtD,KAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;AACzD,KAAC,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;CACtD,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCH,IAAI,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC;IACvC,eAAe,GAAG,OAAO,CAAC,wBAAwB,CAAC;IACnD,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC;IACvC,WAAW,GAAG,OAAO,CAAC,oBAAoB,CAAC;IAC3C,QAAQ,GAAG,OAAO,CAAC,qBAAqB,CAAC;IACzC,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC;IACvC,WAAW,GAAG,OAAO,CAAC,oBAAoB,CAAC;IAC3C,UAAU,GAAG,OAAO,CAAC,mBAAmB,CAAC;;;AAEzC,cAAc,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;;AAEvD,IAAI,GAAG,EACH,IAAI,EACJ,IAAI,CAAC;;AAET,IAAI,QAAQ,GAAG;AACb,SAAO,EAAE,mBAAY;;AAEnB,QAAI,CAAC,GAAG,eAAe,CAAC,QAAQ,EAAE;QAC9B,CAAC,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;;;;;AAKpC,QAAI,CAAC,QAAQ,EAAE,CAAC;;AAEhB,OAAG,GAAG,EAAE,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAChC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAChB,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CACjB,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAClB,MAAM,CAAC,OAAO,CAAC,CACf,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,CACzB,IAAI,CAAC,WAAW,EAAE,eAAe,CAAC,iBAAiB,CAAC,CACpD,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,CACzB,MAAM,CAAC,OAAO,CAAC,CACf,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;;AAE5B,OAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC;AAChC,KAAC,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;;;GAGzC;;;;;;;AAOD,UAAQ,EAAE,oBAAY;AACpB,QAAI,CAAC,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;;AAEpC,QAAI,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,CACpB,IAAI,CAAC,IAAI,CAAC,CACV,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CACZ,OAAO,CAAC,CAAC,CAAC,CACV,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;GAClC;;AAED,cAAY,EAAE,sBAAU,QAAQ,EAAE;AAChC,WAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;GAC7B;;AAED,SAAO,EAAE,mBAAY;AACnB,WAAO,IAAI,CAAC;GACb;;AAED,SAAO,EAAE,iBAAU,QAAQ,EAAE;AAC3B,QAAI,GAAG,QAAQ,CAAC;GACjB;;AAED,SAAO,EAAE,mBAAY;AACnB,WAAO,IAAI,CAAC;GACb;;AAED,QAAM,EAAE,gBAAU,QAAQ,EAAE;AAC1B,QAAI,KAAK,CAAC;;AAEV,YAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AACzC,SAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;;AAEhC,iBAAa,CAAC,KAAK,CAAC,CAAC;AACrB,gBAAY,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;;GAEhD;;AAED,WAAS,EAAE,SAAS;;CAErB,CAAC;;AAEF,SAAS,aAAa,CAAE,KAAK,EAAE;AAC7B,MAAI,OAAO,GAAG,cAAc,CAAC,UAAU,EAAE,CACtC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE;AACxB,WAAO,CAAC,CAAC,QAAQ,CAAC;GACnB,CAAC,CAAC;;AAEL,SAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,cAAc,CAAC,CAAC;;AAEnD,aAAW,CAAC,eAAe,EAAE,CAAC;;AAE9B,SAAO,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CACjC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,WAAW,CAAC,CACnC,IAAI,CAAC,IAAI,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,CAAC,CAAC,CAAC,CAAC;GAAE,CAAC,CACvC,IAAI,CAAC,IAAI,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,CAAC,CAAC,CAAC,CAAC;GAAE,CAAC,CACvC,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,CAAC,CAAC,CAAC,CAAC;GAAE,CAAC,CACtC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,cAAc,CAAC,CAC1C,KAAK,CAAC,MAAM,EAAE,UAAU,CAAC,YAAY,CAAC,CACtC,KAAK,CAAC,cAAc,EAAE,WAAW,CAAC,cAAc,CAAC,CACjD,KAAK,CAAC,SAAS,EAAE,WAAW,CAAC,UAAU,CAAC,CACxC,EAAE,CAAC,OAAO,EAAE,WAAW,CAAC,aAAa,CAAC,CACtC,EAAE,CAAC,WAAW,EAAE,WAAW,CAAC,eAAe,CAAC,CAC5C,EAAE,CAAC,UAAU,EAAE,WAAW,CAAC,cAAc,CAAC,CAAC;;AAE9C,SAAO,CAAC,IAAI,EAAE,CACX,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,IAAI,CAAC;GAAE,CAAC,CACvC,MAAM,EAAE,CAAC;;AAEd,SAAO,CAAC,KAAK,EAAE,CAAC;CACjB;;AAED,SAAS,YAAY,CAAE,KAAK,EAAE;AAC5B,MAAI,MAAM,CAAC;;AAEX,QAAM,GAAG,cAAc,CAAC,SAAS,EAAE,CAChC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,EAAE;AACxB,WAAO,CAAC,CAAC,QAAQ,CAAC;GACnB,CAAC,CAAC;;AAEL,QAAM,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAChC,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC,eAAe,CAAC,CAC3C,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,CAAC,CAAC,CAAC,CAAC;GAAE,CAAC,CACtC,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,CAAC,CAAC,CAAC,CAAC;GAAE,CAAC,CAAC;;AAE5C,QAAM,CACH,KAAK,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAC1B,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,CAAC,CAAC,CAAC,CAAC;GAAE,CAAC,CACtC,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAE,WAAO,CAAC,CAAC,CAAC,CAAC;GAAE,CAAC,CACtC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,sBAAsB,CAAC,CAC5C,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7B,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CACrB,KAAK,CAAC,WAAW,EAAE,SAAS,CAAC,WAAW,CAAC,CACzC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,CACtB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAC5B,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC,eAAe,CAAC,CAAC;;AAEjD,QAAM,CAAC,IAAI,EAAE,CACV,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,CACtB,MAAM,EAAE,CAAC;;AAEd,QAAM,CAAC,KAAK,EAAE,CAAC;CAChB;;AAED,SAAS,SAAS,GAAI;AACpB,iBAAe,CAAC,gBAAgB,EAAE,CAAC;AACnC,MAAI,CAAC,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;AACpC,MAAI,CAAC,GAAG,eAAe,CAAC,QAAQ,EAAE,CAAC;AACnC,MAAI,CAAC,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;AACpC,MAAI,IAAI,GAAG,SAAS,CAAC,OAAO,EAAE,CAAC;AAC/B,MAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAClB,MAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAClB,GAAC,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACzC,GAAC,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,eAAe,CAAC,iBAAiB,EAAE,CAAC,CAAC;AACtE,gBAAc,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACvC,UAAQ,CAAC,MAAM,EAAE,CAAC;CACnB;;AAED,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAC;;;;;AC7K1B,IAAI,WAAW,GAAG,OAAO,CAAC,oBAAoB,CAAC;IAC3C,UAAU,GAAG,OAAO,CAAC,mBAAmB,CAAC;IACzC,QAAQ,GAAG,OAAO,CAAC,qBAAqB,CAAC;IACzC,cAAc,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;;AAEvD,IAAI,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;;AAEjC,SAAS,cAAc,CAAE,CAAC,EAAE;;AAE1B,SAAO,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC;CAC/B;;AAED,IAAI,WAAW,GAAG;;AAEhB,aAAW,EAAE,qBAAU,CAAC,EAAE;AACxB,WAAO,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC;GACzB;;AAED,YAAU,EAAE,oBAAU,CAAC,EAAE;AACvB,QAAI,CAAC,CAAC,IAAI,KAAK,QAAQ,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;AAC5C,aAAO,IAAI,CAAC;KACb,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,cAAc,EAAE;AACzD,aAAO,IAAI,CAAC;KACb,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,aAAa,EAAE;AACnC,aAAO,CAAC,CAAC;KACV,MAAM;AACL,aAAO,GAAG,CAAC;KACZ;GACF;;AAED,gBAAc,EAAE,cAAc;;AAE9B,qBAAmB,EAAE,6BAAU,QAAQ,EAAE;AACvC;AACI,OAAG,GAAG,cAAc,CAAC,MAAM,EAAE;QAC7B,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC;;AAE3C,OAAG,CAAC,MAAM,CAAC,YAAY,CAAC,CACrB,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC/B,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC/B,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAC7B,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAC5B,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAC9C,UAAU,EAAE,CACV,KAAK,CAAC,GAAG,CAAC,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CACZ,MAAM,EAAE,CAAC;GACf;;AAED,eAAa,EAAE,uBAAU,CAAC,EAAE;AAC1B,QAAI,EAAE,CAAC,KAAK,CAAC,gBAAgB,EAAE;AAC7B,aAAO;KACR;;AAED,MAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,cAAc,CAAC,CAC9D,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;;;AAG9B,MAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,eAAe,CAAC,CACxD,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;;AAE7B,eAAW,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;;AAEjC,MAAE,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;GAC5B;;AAED,iBAAe,EAAE,yBAAU,cAAc,EAAE;;;AAGzC,MAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,cAAc,CAAC,CAC9D,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;;AAE9B,MAAE,CAAC,MAAM,CAAC,cAAc,CAAC,CACtB,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CACzB,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CACnB,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAC1B,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,KAAK,CAAC,cAAc,EAAG,CAAC,GAAG,SAAS,CAAE,CACtC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,EAAE;AACtB,aAAO,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;KAC7B,CAAC,CACH,UAAU,EAAE,CACV,KAAK,CAAC,GAAG,CAAC,CACV,KAAK,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAC1C,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,eAAe,CAAC,CAC3C,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CACjC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,EAAE;AACtB,aAAO,CAAC,CAAC,CAAC,CAAC;KACZ,CAAC,CAAC;GACR;;AAED,wBAAsB,EAAE,kCAAY;AAClC,QAAI,OAAO,GAAG,cAAc,CAAC,UAAU,EAAE,CACpC,KAAK,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;GAC5C;;AAED,iBAAe,EAAE,2BAAY;AAC3B,kBAAc,CAAC,UAAU,EAAE,CACxB,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,IAAI,CAAC,IAAI,EAAE,UAAS,CAAC,EAAE;AAAC,aAAO,CAAC,CAAC,CAAC,CAAA;KAAC,CAAC,CACpC,IAAI,CAAC,IAAI,EAAE,UAAS,CAAC,EAAE;AAAE,aAAO,CAAC,CAAC,CAAC,CAAC;KAAE,CAAC,CACvC,IAAI,CAAC,GAAG,EAAE,UAAS,CAAC,EAAE;AAAE,aAAO,CAAC,CAAC,CAAC,CAAC;KAAE,CAAC,CAAC;GAC7C;;AAED,iBAAe,EAAE,yBAAS,CAAC,EAAE;AAC3B,QAAI,CAAC,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,QAAQ,KAAK,CAAC,CAAC,IAAI,KAAK,aAAa,IAAK,CAAC,CAAC,IAAI,KAAK,aAAa,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,cAAc,CAAA,AAAC,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,AAAC,EAAE;AAC7O,cAAQ,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KAC/D;GACF;;AAED,gBAAc,EAAE,wBAAU,CAAC,EAAE;AAC3B,QAAI,GAAG,GAAG,QAAQ,CAAC,UAAU,EAAE,CAAC;;AAEhC,OAAG,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpC,OAAG,CAAC,IAAI,EAAE,CAAC;GACZ;;CAEF,CAAC;;AAGF,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC;;;;;AC7H7B,IAAI,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE5C,IAAI,aAAa,GAAG,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE;IAC7C,mBAAmB,GAAG,aAAa,CAAC,MAAM;IAC1C,eAAe,GAAG,MAAM;IACxB,eAAe,GAAG,MAAM;IACxB,oBAAoB,GAAG,SAAS,CAAC;;AAErC,SAAS,YAAY,CAAE,CAAC,EAAE;AACxB,MAAI,UAAU,EACV,WAAW,EACX,aAAa,CAAC;;AAElB,MAAI,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,KAAK,IAAI,EAAE;AAClC,WAAO,eAAe,CAAC;GACxB,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;AAC5B,WAAO,eAAe,CAAC;GACxB,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,QAAQ,EAAE;AAC9B,WAAO,eAAe,CAAC;GACxB,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,aAAa,EAAE;AACnC,WAAO,eAAe,CAAC;GACxB;;AAED,YAAU,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;AACxC,aAAW,GAAG,UAAU,CAAC,WAAW,CAAC;;AAErC,eAAa,GAAG,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;;AAElD,SAAO,UAAU,GAAG,aAAa,GAAG,eAAe,CAAC;CACrD;;AAID,IAAI,UAAU,GAAG;AACf,eAAa,EAAE,aAAa;AAC5B,iBAAe,EAAE,eAAe;AAChC,iBAAe,EAAE,eAAe;AAChC,sBAAoB,EAAE,oBAAoB;;AAE1C,WAAS,EAAE,mBAAU,MAAM,EAAE;AAC3B,WAAO,aAAa,CAAC,MAAM,GAAG,mBAAmB,CAAC,CAAC;GACpD;;AAED,gBAAc,EAAE,wBAAU,CAAC,EAAE;AAC3B,QAAI,CAAC,CAAC,IAAI,KAAK,aAAa,EAAE;AAC5B,aAAO,oBAAoB,CAAC;KAC7B,MAAM,IAAI,CAAC,CAAC,IAAI,KAAM,MAAM,EAAE;AAC7B,aAAO,eAAe,CAAC;KACxB,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,cAAc,EAAE;AACzD,aAAO,eAAe,CAAC;KACxB,MAAM,IAAI,CAAC,CAAC,IAAI,KAAI,QAAQ,EAAE;AAC7B,aAAO,eAAe,CAAC;KACxB,MAAK;AACJ,aAAO,YAAY,CAAC,CAAC,CAAC,CAAC;KACxB;GACF;;AAED,cAAY,EAAE,YAAY;CAC3B,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,UAAU,CAAC;;;;;AC5D5B,IAAI,QAAQ,GAAG,OAAO,CAAC,uBAAuB,CAAC;IAC3C,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC;IACvC,cAAc,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;;AAEvD,IAAI,SAAS,EACT,CAAC,EACD,CAAC,EACD,CAAC,EACD,gBAAgB,CAAC;;AAErB,SAAS,YAAY,GAAI;AACvB,MAAI,CAAC,SAAS,EAAE;AACd,aAAS,GAAG,QAAQ,CAAC,sBAAsB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;GAChE;AACD,SAAO,SAAS,CAAC;CAClB;;AAED,SAAS,QAAQ,GAAI;AACnB,GAAC,GAAG,YAAY,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC;CACrC;;AAED,SAAS,QAAQ,GAAI;AACnB,SAAO,CAAC,CAAC;CACV;;AAED,SAAS,SAAS,GAAI;AACpB,GAAC,GAAG,YAAY,EAAE,CAAC,YAAY,GAAG,EAAE,CAAC;CACtC;;AAED,SAAS,SAAS,GAAI;AACpB,SAAO,CAAC,CAAC;CACV;;AAED,SAAS,SAAS,GAAI;AACpB,GAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;CACnB;;AAED,SAAS,SAAS,GAAI;AACpB,SAAO,CAAC,CAAC;CACV;;AAED,SAAS,gBAAgB,GAAI;AAC3B,UAAQ,EAAE,CAAC;AACX,WAAS,EAAE,CAAC;AACZ,WAAS,EAAE,CAAC;CACb;;AAED,SAAS,iBAAiB,GAAI;AAC5B,SAAO,YAAY,GAAG,CAAC,CAAC,GAAG,CAAC,CAAA,GAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAA,GAAI,CAAC,GAAG,GAAG,CAAC;CAC7D;;;;;;;;;;;;;;AAeD,IAAI,eAAe,GAAG;AACpB,cAAY,EAAE,YAAY;;AAE1B,UAAQ,EAAE,QAAQ;;AAElB,UAAQ,EAAE,QAAQ;;AAElB,WAAS,EAAE,SAAS;;AAEpB,WAAS,EAAE,SAAS;;AAEpB,WAAS,EAAE,SAAS;;AAEpB,WAAS,EAAE,SAAS;;AAEpB,kBAAgB,EAAE,gBAAgB;;AAElC,mBAAiB,EAAE,iBAAiB;CACrC,CAAC;;;;;;;;AAQF,MAAM,CAAC,OAAO,GAAG,eAAe,CAAC;;;;;AC1FjC,IAAI,WAAW,GAAG,OAAO,CAAC,oBAAoB,CAAC;IAC3C,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE5C,IAAI,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;;AAC3B,iBAAiB;IACjB,gBAAgB;IAChB,UAAU,GAAG,KAAK,CAAC;;;;AAIvB,IAAI,WAAW,GAAG;AAChB,YAAU,EAAE,sBAAY;AACtB,UAAM,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC5B,UAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACpB,UAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;AAC/B,2BAAuB,EAAE,CAAC;AAC1B,8BAA0B,EAAE,CAAC;GAC9B;;AAED,mBAAiB,EAAE,2BAAU,CAAC,EAAE;AAC9B,QAAI,MAAM,EACN,KAAK,EACL,IAAI,CAAC;;AAET,QAAI,CAAC,CAAC,QAAQ,EAAE;AACV,WAAK,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC;;AAE7B,YAAM,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;;AAEpC,UAAI,CAAC,iBAAiB,IAAI,MAAM,CAAC,QAAQ,KAAK,iBAAiB,CAAC,OAAO,EAAE;AACvE,cAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;AACnC,yBAAiB,GAAG,MAAM,CAAC;OAC5B;AACD,sBAAgB,GAAG,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,GAAG,EAAC,IAAI,EAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAC,CAAC;;AAE7F,UAAI,UAAU,EAAE;AACd,sBAAc,EAAE,CAAC;OAClB;KACF;GACF;;AAED,gBAAc,EAAE,cAAc;;AAE9B,sBAAoB,EAAE,gCAAY;AAChC,WAAO,iBAAiB,CAAC;GAC1B;;AAED,sBAAoB,EAAE,8BAAU,CAAC,EAAE;AACjC,qBAAiB,GAAG,CAAC,CAAC;GACvB;;AAED,qBAAmB,EAAE,+BAAY;AAC/B,WAAO,gBAAgB,CAAC;GACzB;;AAED,qBAAmB,EAAE,6BAAU,CAAC,EAAE;AAChC,oBAAgB,GAAG,CAAC,CAAC;GACtB;;AAED,UAAQ,EAAE,QAAQ;;AAElB,UAAQ,EAAE,QAAQ;;AAElB,YAAU,EAAE,UAAU;;CAEvB,CAAC;;AAEF,SAAS,cAAc,GAAI;AACzB,MAAI,gBAAgB,EAAE;AACpB,UAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACpB,UAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,EAAE,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;GACvE;CACF;;AAED,SAAS,QAAQ,GAAI;AACnB,GAAC,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;AAC5D,gBAAc,EAAE,CAAC;AACjB,YAAU,GAAG,IAAI,CAAC;CACnB;;AAED,SAAS,QAAQ,GAAI;AACnB,GAAC,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC;AACzB,YAAU,GAAG,KAAK,CAAC;CACpB;;AAED,SAAS,UAAU,GAAI;AACrB,MAAI,UAAU,EAAE;AACd,YAAQ,EAAE,CAAC;GACZ,MAAM;AACL,YAAQ,EAAE,CAAC;GACZ;CACF;;;AAMD,SAAS,uBAAuB,GAAI;AAClC,GAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,YAAY;AAC7B,QAAI,QAAQ,GAAG,MAAM,CAAC,iBAAiB,EAAE,CAAC;;;AAG1C,QAAI,WAAW,GAAG,cAAc,EAAE,CAAC;;AAEnC,QAAI,cAAc,GAAG,yBAAyB,CAAC,WAAW,CAAC,CAAC;AAC5D,eAAW,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;GAC7C,CAAC,CAAC;CACJ;;;AAGD,SAAS,cAAc,GAAI;AACzB,SAAO,IAAI,GAAG,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;CACvF;;AAED,SAAS,yBAAyB,CAAE,WAAW,EAAE;AAC/C,MAAI,YAAY,GAAG,wBAAwB,CAAC,WAAW,EAAE,iBAAiB,CAAC,CAAC;;AAE5E,MAAI,YAAY,EAAE;AAChB,WAAO,CAAC,CAAC,IAAI,GAAG,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;GAC3C;AACD,SAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;CAC5C;;AAED,SAAS,wBAAwB,CAAE,WAAW,EAAE,OAAO,EAAE;AACvD,MAAI,WAAW,GAAG,OAAO,CAAC,QAAQ;MAC9B,QAAQ,CAAC;;AAEb,MAAI,CAAC,WAAW,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;AACvC,WAAO,OAAO,CAAC;GAChB;;AAED,OAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAC/C,YAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;AAC1B,QAAI,UAAU,CAAC,WAAW,EAAE,QAAQ,CAAC,EAAE;AACrC,aAAO,GAAG,wBAAwB,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AAC1D,YAAM;KACP;GACF;AACD,SAAO,OAAO,CAAC;CAChB;;;AAGD,SAAS,UAAU,CAAE,WAAW,EAAE,QAAQ,EAAE;AAC1C,MAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ;MAC5B,KAAK,GAAG,QAAQ,GAAG,QAAQ,CAAC,KAAK,GAAG,IAAI;MACxC,KAAK;MACL,GAAG,CAAC;;AAER,MAAI,KAAK,EAAE;AACT,SAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AACjB,OAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AACf,QAAI,KAAK,IAAI,WAAW,IAAI,GAAG,IAAI,WAAW,EAAE;AAC9C,aAAO,IAAI,CAAC;KACb;GACF;;AAED,SAAO,KAAK,CAAC;CACd;;;;;;;AAOD,SAAS,0BAA0B,GAAI;AACrC,GAAC,CAAE,iBAAiB,CAAE,CAAC,SAAS,CAAC;AAC7B,WAAO,EAAE,UAAU;AACnB,aAAS,EAAE,GAAG;AACd,YAAQ,EAAE,GAAG;AACb,QAAI,EAAE,cAAU,CAAC,EAAE;AACjB,YAAM,CAAC,MAAM,EAAE,CAAC;AAChB,aAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;KACvC;GACF,CAAC,CAAC;CACN;;AAGD,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC;;;;;ACjL7B,IAAI,cAAc,CAAC;;AAEnB,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;;AAExC,IAAI,cAAc,GAAG;AACjB,mBAAiB,EAAE,6BAAY;AAC7B,QAAI,CAAC,cAAc,EAAE;AACnB,oBAAc,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;KACvD;AACD,WAAO,cAAc,CAAC;GACvB;;AAED,qBAAmB,EAAE,+BAAY;AAC/B,WAAO,QAAQ,CAAC,sBAAsB,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;GAC5D;;AAED,cAAY,EAAE,wBAAY;AACxB,QAAI,CAAC,mBAAmB,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,aAAa,CAAC;GAC/E;;AAED,aAAW,EAAE,uBAAY;AACvB,WAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC;GAC1C;;AAED,gBAAc,EAAE,0BAAY;AAC1B,QAAI,KAAK,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,aAAa,CAAC;AACnD,WAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;AACvC,QAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;AAC1B,YAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,EAAC,UAAU,EAAE,IAAI,EAAC,CAAC,CAAC;KAC/C,MAAM;AACL,aAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;KACxD;GACF;;AAED,uBAAqB,EAAE,iCAAY;AACjC,WAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC,kBAAkB,EAAE,CAAC;GACtD;CACJ,CAAC;;AAIF,MAAM,CAAC,OAAO,GAAG,cAAc,CAAC;;;;;ACzChC,IAAI,QAAQ,GAAG,OAAO,CAAC,uBAAuB,CAAC;IAC3C,cAAc,GAAG,OAAO,CAAC,uBAAuB,CAAC,CAAC;;AAEtD,IAAI,UAAU,GAAG;AACf,WAAS,EAAE,qBAAY;AACrB,QAAI,IAAI,GAAG,cAAc,CAAC,qBAAqB,EAAE,CAAC;;;AAGlD,WAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;;GAE9C;CACF,CAAA;;AAED,MAAM,CAAC,OAAO,GAAG,UAAU,CAAC;;;;;ACZ5B,IAAI,GAAG,CAAC;;AAER,IAAI,cAAc,GAAG;AACnB,QAAM,EAAE,kBAAY;AAClB,QAAI,CAAC,GAAG,EAAC;AACP,SAAG,GAAG,EAAE,CAAC,MAAM,CAAC,2BAA2B,CAAC,CAAC;KAC9C;;AAED,WAAO,GAAG,CAAC;GACZ;;AAED,YAAU,EAAE,sBAAY;AACtB,WAAO,IAAI,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;GAC1C;;AAED,WAAS,EAAE,qBAAY;AACrB,WAAO,IAAI,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;GACxC;;AAED,YAAU,EAAE,sBAAY;AACtB,WAAO,IAAI,CAAC,MAAM,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;GAC1C;CACF,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,cAAc,CAAC;;;;;ACzBhC,IAAI,cAAc,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;;AAEvD,IAAI,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;;AAEjC,SAAS,cAAc,CAAE,CAAC,EAAE;AAC1B,MAAI,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;AACrB,WAAO,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;GAChC,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,aAAa,EAAE;;AACnC,WAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;GACtB,MAAM;AACL,WAAO,CAAC,CAAC,IAAI,CAAC;GACf;CACF;;AAED,SAAS,eAAe,CAAE,IAAI,EAAE;AAC9B,MAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAEhC,SAAO,kBAAkB,CAAC,SAAS,CAAE,SAAS,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC,CAAC;CAC9D;;AAED,SAAS,kBAAkB,CAAE,IAAI,EAAE;AACjC,MAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAEhC,MAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACxB,aAAS,CAAC,GAAG,EAAE,CAAC;GACjB;;AAED,SAAO,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;CAC3B;;AAED,SAAS,QAAQ,CAAE,CAAC,EAAE;AACpB,SAAO,CAAC,CAAC,IAAI,KAAK,aAAa,IAAI,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC;CACtD;;AAED,SAAS,QAAQ,GAAI;AACnB,SAAO,IAAI,CAAC,KAAK,CAAC,OAAO,KAAK,OAAO,CAAC;CACvC;;AAED,SAAS,SAAS,GAAG;AACnB,SAAO,CAAC,QAAQ,EAAE,CAAC;CACpB;;AAED,SAAS,eAAe,CAAE,CAAC,EAAE;AAC3B,MAAI,CAAC,CAAC,CAAC,GAAG,SAAS,GAAG,EAAE,EAAE;AACxB,WAAO,IAAI,CAAC;GACb,MAAM;AACL,WAAO,CAAC,CAAC;GACV;CACF;;AAED,SAAS,YAAY,CAAE,CAAC,EAAE;AACxB,MAAI,IAAI,GAAG,cAAc,CAAC,CAAC,CAAC;MACxB,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;;AAEjC,SAAO,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,GAAG,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;CACnF;;AAED,SAAS,WAAW,CAAE,CAAC,EAAE;AACvB,MAAI,QAAQ,CAAC;;AAEb,MAAI,CAAC,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,cAAc,EAAE;AAClD,YAAQ,GAAG,EAAE,CAAC;GACf,MAAM,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE;AAC1C,YAAQ,GAAG,EAAE,CAAC;GACf,MAAM;AACL,YAAQ,GAAG,EAAE,CAAC;GACf;;AAED,SAAO,QAAQ,GAAG,SAAS,CAAC;CAC7B;;AAED,SAAS,sBAAsB,CAAE,CAAC,EAAE;AAClC,MAAI,CAAC,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,CAAC,IAAI,KAAK,cAAc,EAAE;AAClD,WAAO,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;GACpB,MAAM,IAAI,CAAC,CAAC,CAAC,GAAG,SAAS,GAAG,EAAE,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE;;AAE3F,WAAO,CAAC,EAAE,GAAG,SAAS,CAAC;GACxB,MAAM;AACL,WAAO,CAAC,GAAG,SAAS,CAAC;GACtB;CACF;;AAED,SAAS,qBAAqB,GAAI;AAChC,MAAI,MAAM,GAAG,cAAc,CAAC,SAAS,EAAE,CAAC;;AAExC,QAAM,CAAC,IAAI,CAAC,IAAI,EAAE,sBAAsB,CAAC,CAAC;AAC1C,QAAM,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;AACzB,YAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GACrB,CAAC,CACC,KAAK,CAAC,WAAW,EAAE,WAAW,CAAC,CAC/B,IAAI,CAAC,YAAY,CAAC,CAClB,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,KAAK,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;;AAEvC,QAAM,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;AACzB,aAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GACtB,CAAC,CACC,UAAU,EAAE,CACV,QAAQ,CAAC,GAAG,CAAC,CACb,KAAK,CAAC,WAAW,EAAE,WAAW,CAAC,CAC/B,KAAK,CAAC,SAAS,EAAE,eAAe,CAAC,CACnC,UAAU,EAAE,CACV,KAAK,CAAC,GAAG,CAAC,CACV,IAAI,CAAC,YAAY,CAAC,CAAC;CACzB;;AAGD,IAAI,SAAS,GAAG;AACd,gBAAc,EAAE,cAAc;AAC9B,iBAAe,EAAE,eAAe;AAChC,oBAAkB,EAAE,kBAAkB;AACtC,UAAQ,EAAE,QAAQ;AAClB,UAAQ,EAAE,QAAQ;AAClB,WAAS,EAAE,SAAS;AACpB,iBAAe,EAAE,eAAe;AAChC,cAAY,EAAE,YAAY;AAC1B,aAAW,EAAE,WAAW;AACxB,wBAAsB,EAAE,sBAAsB;AAC9C,uBAAqB,EAAE,qBAAqB;CAC7C,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC;;;;;AC1H3B,IAAI,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE5C,IAAI,GAAG,CAAC;;AAER,IAAI,QAAQ,GAAG;;AAEb,aAAW,EAAE,uBAAY;AACvB,OAAG,GAAG,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;GACvE;;AAED,YAAU,EAAE,sBAAY;AACtB,WAAO,GAAG,CAAC;GACZ;CACF,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,QAAQ,CAAC;;;;;ACf1B,IAAI,SAAS,GAAG;AACd,eAAa,EAAE,uBAAU,CAAC,EAAE;AAC1B,QAAI,IAAI,GAAG,CAAC,CAAC;AACb,WAAM,IAAI,CAAC,MAAM,EAAE;;AAEjB,UAAI,IAAI,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,IAAI,KAAK,cAAc,EAAE;AACxD,eAAO,IAAI,CAAC;OACb;AACD,UAAI,GAAG,IAAI,CAAC,MAAM,CAAC;KACpB;AACD,WAAO,IAAI,CAAC;GACb;;AAED,cAAY,EAAE,sBAAS,CAAC,EAAE;AACxB,QAAI,CAAC,CAAC,KAAK,EAAE;AACX,aAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAChC,MAAM;AACL,aAAO,CAAC,CAAC;KACV;GACF;CACF,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC;;;;;ACtB3B,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;;AAErB,IAAI,WAAW,GAAG,OAAO,CAAC,oBAAoB,CAAC;IAC3C,SAAS,GAAG,OAAO,CAAC,kBAAkB,CAAC;IACvC,cAAc,GAAG,OAAO,CAAC,wBAAwB,CAAC,CAAC;;AAEvD,IAAI,IAAI;IACJ,YAAY,GAAG,CAAC,CAAC;;AAErB,IAAI,SAAS,GAAG;;AAEd,UAAQ,EAAE,kBAAU,CAAC,EAAE,CAAC,EAAE;AACxB,QAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,CACtB,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CACjB,MAAM,CAAC,IAAI,CAAC,CACZ,WAAW,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CACpB,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CACZ,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAClB,EAAE,CAAC,WAAW,EAAE,WAAW,CAAC,CAC5B,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;;AAE5B,sBAAkB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;GAClC;;AAED,SAAO,EAAE,mBAAY;AACnB,WAAO,IAAI,CAAC;GACb;;AAED,cAAY,EAAE,wBAAY;AACxB,WAAO,IAAI,CAAC,KAAK,EAAE,CAAC;GACrB;CACF,CAAC;;AAEF,SAAS,WAAW,GAAI,EAAE;;AAE1B,SAAS,MAAM,GAAI;AACjB,gBAAc,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,YAAY,GAAG,EAAE,CAAC,KAAK,CAAC,SAAS,GAAG,SAAS,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;CACjH;;AAED,SAAS,SAAS,CAAE,CAAC,EAAE;AACrB,MAAI,SAAS,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;;AAE7B,MAAI,SAAS,KAAK,YAAY,EAAE;AAC9B,MAAE,CAAC,KAAK,IAAI,EAAE,CAAC,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc,EAAE,GAAG,IAAI,CAAC;AAChF,WAAO;GACR;AACD,oBAAkB,CAAC,SAAS,CAAC,CAAC;AAC9B,aAAW,CAAC,sBAAsB,EAAE,CAAC;AACrC,WAAS,CAAC,qBAAqB,EAAE,CAAC;AAClC,cAAY,GAAG,SAAS,CAAC;CAC1B;;AAED,SAAS,kBAAkB,CAAE,KAAK,EAAE;AAClC,SAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;AACnD,QAAM,CAAC,SAAS,GAAG,KAAK,CAAC;CAC1B;;AAGD,MAAM,CAAC,OAAO,GAAG,SAAS,CAAC",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "'use strict';\n\n//window.zoomScale = 1;\n\nvar BubbleJS = require('./vis_modules/bubble_js_module.js'),\n    ExtensionUtils = require('./vis_modules/extension_module.js'),\n    DimensionsUtils = require('./vis_modules/dimensions_module.js'),\n    ZoomUtils = require('./vis_modules/zoom_module.js'),\n    EditorUtils = require('./vis_modules/editor_module.js'),\n    TipUtils = require('./vis_modules/tooltip_module.js'),\n    ReactUtils = require('./vis_modules/react_module.js');\n\nvar w,\n    h,\n    resizeDelayTimer;\n\nExtensionUtils.setPageTitle();\nDimensionsUtils.setAllDimensions();\nw = DimensionsUtils.getWidth();\nh = DimensionsUtils.getHeight();\nZoomUtils.initZoom(w, h);\nEditorUtils.initEditor();\nTipUtils.initToolTip();\n\nBubbleJS.initVis();\n\nvar root = ExtensionUtils.getCodeTree();\nBubbleJS.update(root);\n\n$(window).resize(function () {\n  clearTimeout(resizeDelayTimer);\n  resizeDelayTimer = setTimeout(BubbleJS.resizeVis, 200);\n});\n$(document).ready(function () {\n  $('.show-code').click(EditorUtils.toggleCode);\n  $(\".close-editor-button\").click(EditorUtils.hideCode);\n  $(\".webpage-title\").click(ExtensionUtils.goToSourcePage);\n  $('#show-react-bubbles').click(ReactUtils.bubbleVis);\n});\n\n\n//Try adding new visualization - react components\n\n\n\n// (function (exports) {\n//   var container = document.getElementsByClassName(\"page-content\")[0],\n//       // w = h = r = container.offsetWidth > container.offsetHeight ? container.offsetHeight : container.offsetWidth,\n//       w = container.offsetWidth - 40,\n//       h = container.offsetHeight - 40,\n//       r = w > h ? h : w,\n//       // x = d3.scale.linear().range([0, r]), //Are these necessary? remove?\n//       // y = d3.scale.linear().range([0, r]),\n//       root,\n//       node,\n//       nodes,\n\n//       // fontScale = d3.scale.linear()\n//       //       .domain([1, r])\n//       //       .range([6, 18]),\n\n//       editor = ace.edit(\"editor\"),\n//       currentEditorNode,\n//       currentEditorLoc,\n\n//       //brewer color solid color scale\n//       // colorList = ['rgb(247,251,255)','rgb(222,235,247)','rgb(198,219,239)','rgb(158,202,225)','rgb(107,174,214)','rgb(66,146,198)','rgb(33,113,181)','rgb(8,81,156)','rgb(8,48,107)'],\n//       // colorListLength = colorList.length, //9\n\n//       //colors:\n//       backgroundColor = \"#FFF\",\n//       selfBorderColor = \"#f33\",\n//       //depBorderColor = \"black\",\n//       //defaultBorderColor = \"#1C5787\",\n//       anonymousBorderColor = \"#ffcf40\",\n//       //noDepBorderColor = \"steelblue\",\n//       //fileBorderColor = colorList[8],\n\n//       //defaultFillColor = \"#1f77b4\",\n//       //selfFillColor = defaultFillColor,\n//       //depFillColor = colorList[7],\n//       //anonymousFillColor = backgroundColor,\n//       //noDepFillColor = \"#7D7D7D\",\n//       //noChildFillColor = \"#ccc\",\n//       //fileFIllColor = colorList[1],\n//       pathColor = \"#FFFFFF\",\n\n//       fillColorList = d3.scale.category10().range(),\n//       fillColorListLength = fillColorList.length;\n\n//   function fillColor (domain) {\n//     return fillColorList[domain % fillColorListLength];\n//   };\n\n//   // //init colorScale with index 0\n//   // fillColor(0);\n\n//   var pack = d3.layout.pack()\n//         .sort(null)\n//         .size([r, r])\n//         .padding(2)\n//         .value(function(d) { \n//           if (d.range) {\n//             return d.range[1] - d.range[0];\n//           } else {\n//             return 1;\n//           }\n//         });\n\n//   var zoom = d3.behavior.zoom()\n//     .translate([0, 0])\n//     .center(null)\n//     .scaleExtent([1, 50])\n//     .size([w, h])\n//     .on(\"zoom\", zoomed)\n//     .on(\"zoomstart\", zoomStarted)\n//     .on(\"zoomend\", zoomEnded);\n\n//   var vis = d3.select(\"svg.bubble-chart\")\n//         .attr(\"width\", w)\n//         .attr(\"height\", h)\n//         .attr(\"opacity\", 1)\n//         .append(\"svg:g\")\n//         .attr(\"class\", \"outter-g\")\n//         .attr(\"transform\", \"translate(\" + (w - r) / 2 + \",\" + (h - r) / 2 + \")\")\n//         .call(zoom)\n//         .append(\"svg:g\");\n\n//   /* Initialize tooltip */\n//   var tip = d3.tip().attr('class', 'd3-tip').html(getToolTipText);\n//   vis.call(tip);\n\n//   $(\"svg.bubble-chart\").css(\"opacity\", 1);\n\n// //for editor \n//   editor.resize(true);\n//   editor.setAnimatedScroll(true);\n\n//   $(\"#editor\").click(function () {\n//     var position = editor.getCursorPosition();\n//     var cursorIndex = new ace.EditSession(editor.getValue()).getDocument().positionToIndex(position);\n\n//     var selectedCircle = getNodeFromEditorPosition(cursorIndex);\n//     highlightCircle(selectedCircle);\n//   });\n\n//   function getNodeFromEditorPosition (cursorIndex) {\n//     var smallestNode = findSmallestWrappingNode(cursorIndex, currentEditorNode);\n    \n//     if (smallestNode) {\n//       return $(\"#n\" + smallestNode.uniqueId)[0];\n//     } \n//     console.log(\"smallestNode does NOT exist\");\n//   }\n\n//   function findSmallestWrappingNode (cursorIndex, tmpNode) {\n//     var tmpChildren = tmpNode.children,\n//         tmpChild;\n\n//     if (!tmpChildren || !tmpChildren.length) {\n//       return tmpNode;\n//     }\n\n//     for(var i=0, l = tmpChildren.length; i < l; i++) {\n//       tmpChild = tmpChildren[i];\n//       if (insideNode(cursorIndex, tmpChild)) {\n//         tmpNode = findSmallestWrappingNode(cursorIndex, tmpChild);\n//         break;\n//       }\n//     }\n//     return tmpNode;\n//   }\n\n//   //returns boolean if current position is inside node\n//   function insideNode (cursorIndex, testNode) {\n//     var treeNode = testNode.treeNode,\n//         range = treeNode ? treeNode.range : null,\n//         start,\n//         end;\n\n//     if (range) {\n//       start = range[0];\n//       end = range[1];\n//       if (start <= cursorIndex && end >= cursorIndex) {\n//         return true;\n//       }\n//     }\n\n//     return false;\n//   }\n\n//   function highlightCircle (selectedCircle) {\n//     var zoomScale = zoom.scale();\n\n//     d3.select(\".selected\").style(\"stroke\", getBorderColor)\n//       .classed(\"selected\", false);\n\n//     d3.select(selectedCircle)\n//       .classed(\"selected\", true)\n//       .style(\"opacity\", 1)\n//       .style(\"stroke\", \"#000000\")\n//       .transition()\n//         .duration(750)\n//         .style(\"stroke-width\", (5 / zoomScale))\n//         .attr(\"r\", function (d) {\n//           return d.r + 30 / zoomScale;\n//         })\n//       .transition()\n//         .delay(750)\n//         .style(\"stroke-width\", getBorderWidth)\n//         .style(\"stroke\", selfBorderColor)\n//         .style(\"opacity\", getOpacity)\n//         .attr(\"r\", function (d) {\n//           return d.r;\n//         });\n//   }\n\n\n//   function update(rootNode) {\n//     root = rootNode;\n//     nodes = pack.nodes(rootNode);\n    \n//     var editor = ace.edit(\"editor\");\n\n//     updateCircles(nodes);\n//     updateLabels(nodes.filter(hasLabel));\n//     removePaths();\n\n//   }\n\n//   function updateCircles (nodes) {\n//     var circles;\n\n//     circles = vis.selectAll(\"circle\")\n//         .data(nodes, function (d) {\n//           return d.uniqueId;\n//         });\n\n//     circles\n//       .style(\"stroke\", getBorderColor)\n//       .transition()\n//         .duration(750)\n//         .attr(\"cx\", function(d) {return d.x})\n//         .attr(\"cy\", function(d) { return d.y; })\n//         .attr(\"r\", function(d) { return d.r; });\n        \n//     circles.enter().append(\"svg:circle\")\n//       .attr(\"class\", getClass)\n//       .attr(\"id\", function (d) {\n//         return 'n' + d.uniqueId;\n//       })\n//       .attr(\"cx\", function(d) { return d.x; })\n//       .attr(\"cy\", function(d) { return d.y; })\n//       .attr(\"r\", function(d) { return d.r; })\n//       .style(\"stroke\", getBorderColor)\n//       .style(\"fill\", getFillColor)\n//       .style(\"stroke-width\", getBorderWidth)\n//       .style(\"opacity\", getOpacity)\n//       .on(\"click\", onCircleClick)\n//       .on('mouseover', function(d) {\n//         if (d.name !== 'root' && d.type !== 'hidden' && (d.name !== '[Anonymous]' || (d.name === '[Anonymous]' && d.parent && (d.parent.type === 'file' || d.parent.type === 'inlineScript') && d.parent.children && d.parent.children.length === 1))) {\n//           tip.attr('class', 'd3-tip animate').show(d);\n//         }\n//       })\n//       .on('mouseout', function (d) {\n//         tip.attr('class', 'd3-tip').show(d)\n//         tip.hide();\n//       });\n\n//     circles.exit()\n//       .transition()\n//         .duration(750)\n//         .attr(\"r\", function(d) { return 1e-6; })\n//         .remove();\n\n//     circles.order();\n//   }\n\n//   function updateLabels (nodes) {\n//     var labels;\n\n//     labels = vis.selectAll(\"text\").data(nodes, function (d) {\n//         return d.uniqueId;\n//       });\n    \n//     labels.attr(\"class\", getClass)\n//       .text(getLabelText)\n//       .transition()\n//         .duration(750)\n//         .style(\"opacity\", getLabelOpacity)\n//         .attr(\"x\", function(d) { return d.x; })\n//       .attr(\"y\", function(d) { return d.y; });\n      \n//     labels\n//       .enter().append(\"svg:text\")\n//       .attr(\"class\", getClass)\n//       .attr(\"x\", function(d) { return d.x; })\n//       .attr(\"y\", function(d) { return d.y; })\n//       .attr(\"dy\", getLabelVerticalOffset)\n//       .attr(\"text-anchor\", \"middle\")\n//       .style(\"fill\", '#000')\n//       .style(\"font-size\", getFontSize)\n//       .style(\"opacity\", 1e-6)\n//       .text(getLabelText)\n//       .transition()\n//         .duration(500)\n//         .style(\"opacity\", getLabelOpacity); \n\n//     labels.exit()\n//       .transition()\n//         .duration(500)\n//         .style(\"opacity\", 1e-6)\n//         .remove();\n\n//     labels.order();\n//   }\n\n//   function onCircleClick (d, i) {\n//     if (d3.event.defaultPrevented) {\n//       return;\n//     }\n//     //clean up old selection:\n//     d3.select(\".selected\").style(\"stroke\", getBorderColor)\n//       .classed(\"selected\", false);\n\n//     //highlight new selection (clicked circle)\n//     d3.select(this).style(\"stroke\", selfBorderColor)\n//       .classed(\"selected\", true);\n    \n//     //TODO: add back in\n//     //toggleDependencies(d, i);\n\n//     setEditorContents(d);\n\n//     d3.event.stopPropagation();\n//   }\n\n//   function hasLabel (d) {\n//     return d.name !== '[Anonymous]' && d.name !== 'root';\n//   }\n\n//   function getLabelOpacity (d) {\n//     if (d.r * zoom.scale() < 15) {\n//       return 1e-6;\n//     } else {\n//       return 1;\n//     }\n//   }\n\n//   function getLabelText (d) {\n//     var text = getToolTipText(d),\n//         letterWidth = getFontSize(d),\n//         zoomScale = zoom.scale();\n\n//     return text ? text.slice(0, parseInt(d.r * zoomScale / letterWidth * 2 + 2)) : '';\n//   }\n\n//   function getLabelVerticalOffset (d, zoomScale) {\n//     zoomScale = zoom.scale();\n\n//     if (d.type === 'file' || d.type === 'inlineScript') {\n//       return -0.75 * d.r;\n//     } else if (d.r * zoomScale > 20 && d.children && d.children.length < 3 && d.children.length) {\n//       //hack to avoid most common label collisions\n//       return -11 / zoomScale;\n//     } else {\n//       return 3 / zoomScale;\n//     }\n//   }\n\n//   function zoomStarted () {\n//   }\n\n//   function zoomed () {\n//     vis.attr(\"transform\", \"translate(\" + d3.event.translate + \")scale(\" + d3.event.scale + \")\");\n//   }\n\n//   //var zoomScale;\n//   var oldZoomScale = 1;\n\n//   function zoomEnded (e) {\n//     var zoomScale = zoom.scale();\n\n//     if (zoomScale === oldZoomScale) {\n//       d3.event && d3.event.sourceEvent ? d3.event.sourceEvent.preventDefault() : null;\n//       return;\n//     }\n\n//     var circles = vis.selectAll(\"circle\")\n//           .style(\"stroke-width\", getBorderWidth);\n\n//     var labels = vis.selectAll(\"text\")\n//           .attr(\"dy\", getLabelVerticalOffset);\n\n//     labels.filter(function (d) {\n//       return this.style.opacity === '1e-06';\n//     }).style('font-size', getFontSize)\n//       .text(getLabelText)\n//       .transition()\n//         .duration(500)\n//         .style(\"opacity\", getLabelOpacity);\n\n//     labels.filter(function (d) {\n//       return this.style.opacity !== '1e-06';\n//     }).transition()\n//         .duration(500)\n//         .style(\"font-size\", getFontSize)\n//         .style(\"opacity\", getLabelOpacity)\n//       .transition().delay(500).text(getLabelText);\n\n//     oldZoomScale = zoomScale;\n//   }\n\n//   function getFontSize (d) {\n//     var zoomScale = zoom.scale(),\n//         fontSize;\n\n//     if (d.type === 'file' || d.type === 'inlineScript') {\n//       fontSize = 20;\n//     } else if (d.children && d.children.length) {\n//       fontSize = 12;\n//     } else {\n//       fontSize = 11;\n//     }\n\n//     return fontSize / zoomScale;\n//   }\n\n//   function removePaths () {\n//     var paths = vis.selectAll(\".link\").transition().remove();\n//   }\n\n//   function toggleDependencies (d, i) {\n//     showDependencyPaths(d);\n//     updateDependencyText(d, i);\n//   }\n\n\n//   function showDependencyPaths (d) {\n//     var links = [],\n//         paths;\n\n//     if (!d.dependencies || d.dependencies.length === 0) {\n//       return;\n//     }\n\n//     links = d.dependencies.map(function(dep) {\n//       return {\n//         \"source\": d,\n//         \"target\": dep\n//       };\n//     });\n\n//     paths = vis.selectAll(\".link\")\n//         .data(links);\n\n//     paths.enter().append(\"svg:path\")\n//       .attr(\"class\", \"link\")\n//       .style(\"stroke\", pathColor)\n//       .style(\"fill\", pathColor)\n//       .style(\"stroke-width\", function (d) {\n//         return d3.min([d.source.r * 2, d.target.r * 2, 25]);\n//       })\n//       .style(\"stroke-linecap\", \"round\")\n//       .attr(\"opacity\", 0.9)\n//       .attr(\"d\", lineData);\n\n//     paths.each(function(d) { d.totalLength = this.getTotalLength(); d.highlight = true;})\n//       .attr(\"stroke-dasharray\", function(d) { return d.totalLength + \" \" + d.totalLength; })\n//       .attr(\"stroke-dashoffset\", function(d) { return d.totalLength; })\n//       .transition()\n//         .duration(1000)\n//         .attr(\"stroke-dashoffset\", function(d) { return -1 * d.totalLength; })\n//         .remove();\n\n//     paths.exit().transition().remove();\n//   }\n\n//   function updateDependencyText (d, i) {\n//     var labels = vis.selectAll(\"text\"),\n//         thisD = d,\n//         thisI = i;\n\n//     labels.style(\"fill\", function (d) {\n//       return getTextFill(d, thisD);\n//     });\n//   }\n\n\n//   //TODO: move to editor module\n//   // set currentEditorNode and currentEditorLoc in the module\n//   function setEditorContents (d) {\n//     var parent,\n//         range,\n//         code;\n\n//     if (d.treeNode) {\n//           range = d.treeNode.range;\n\n//       parent = getParentFile(d);\n\n//       if (!currentEditorNode || parent.uniqueId !== currentEditorNode.uniquId) {\n//         editor.setValue(parent.sourceCode);\n//         currentEditorNode = parent;\n//       }\n//       currentEditorLoc = d.treeNode && d.treeNode.loc ? d.treeNode.loc.start : {line:0, column: 0};\n\n//       if (showEditor) {\n//         positionEditor();\n//       }\n//     }\n//   }\n\n//   function positionEditor () {\n//     if (currentEditorLoc) {\n//       editor.resize(true);\n//       editor.gotoLine(currentEditorLoc.line, currentEditorLoc.column, true);\n//     }\n//   }\n\n\n//   //TODO: move to path_module.js\n//   function lineData(d){\n//     var line = d3.svg.line()\n//           .x( function(point) { return point.lx; })\n//           .y( function(point) { return point.ly; }),\n//         points = [\n//           {lx: d.source.x, ly: d.source.y},\n//           {lx: d.target.x, ly: d.target.y}\n//         ];\n        \n//     return line(points);\n//   }\n\n\n//   function makeBubbleChart (root)  {\n//     console.log(\"root: \", root);\n//     update(root);\n//   }\n\n//   //this is where i hide the files and anonymous circles\n//   // TODO: should hide them by making them opac, with a background color fill color and a golden border color\n//   function getBorderColor (d, i, thisD) {\n//     if (d.name === '[Anonymous]' && d.parent.type === 'file') {\n//       return anonymousBorderColor;\n//     } else if (d.name === '[Anonymous]') {\n//       return anonymousBorderColor;\n//     } else if (d.name  === 'root') {\n//       return backgroundColor;\n//     } else if (d.type === 'file' || d.type === 'inlineScript') {\n//       return backgroundColor;\n//     } else if (d.type ==='hidden') {\n//       return backgroundColor;\n//     }else {\n//       return getFillColor(d);\n//     }\n//   }\n\n//   function getFillColor (d, i, thisD) {\n//     var parentFile,\n//         sourceIndex,\n//         fileFillColor;\n\n//     //ROOT\n//     if (!d.parent || d.parent === null) {\n//       return backgroundColor;\n//     }\n\n//     //FILES\n//     if (d.type === 'file') {\n//       return backgroundColor;\n//     }\n\n//     //HIDDEN\n//     if (d.type === 'hidden') {\n//       return backgroundColor;\n//     }\n\n//     //ANONY\n//     if (d.name === '[Anonymous]') {\n//       return backgroundColor;\n//     }\n\n//     parentFile = getParentFile(d);\n\n//     sourceIndex = parentFile.sourceIndex;\n\n//     fileFillColor = fillColor(sourceIndex);\n\n//     return parentFile ? fileFillColor : backgroundColor;\n//   }\n\n//   //TODO: move to TreeUtils\n//   function getParentFile (d) {\n//     var temp = d;\n//     while(temp.parent) {\n//       //TODO: handle inlineScripts differently\n//       if (temp.type === 'file' || temp.type === 'inlineScript') {\n//         return temp;\n//       }\n//       temp = temp.parent;\n//     }\n//     return null;\n//   }\n\n//   function getOpacity(d, thisD) {\n//     if (d.type === 'hidden' || d.name === 'root') {\n//       return 1e-6;\n//     } else if (d.type === 'file' || d.type === 'inlineScript') {\n//       return 1e-6;\n//     } else if (d.name === '[Anonymous]') {\n//       return 1;\n//     } else {\n//       return 0.4;\n//     }\n//   }\n\n//   function getBorderWidth(d) {\n//     var zoomScale = zoom.scale();\n\n//     return 1.5 / zoomScale;\n//   }\n\n\n//   // TODO: move to textUtils\n//   function getToolTipText (d) {\n//     if (d.type === 'file') {\n//       return getBaseFileName(d.name);\n//     } else if (d.name === '[Anonymous]') { //assuming parent is script and only has 1 child\n//       return d.parent.name;\n//     } else {\n//       return d.name;\n//     }\n//   }\n\n//   function getBaseFileName (name) {\n//     var nameSplit = name.split('/');\n\n//     return removeFileNameCash(nameSplit[(nameSplit.length - 1)]);\n//   }\n\n//   function removeFileNameCash (name) {\n//     var cashSplit = name.split('?');\n\n//     if (cashSplit.length > 1) {\n//       cashSplit.pop();\n//     }\n\n//     return cashSplit.join('');\n//   }\n\n\n//   //TODO: unnecessary, remove all invocations\n//   function getClass (d) {\n//     var myClass;\n//     myClass = d.children && d.children.length ? \"parent\" : \"child\";\n//     // if (d.uniqueId) {\n//     //   myClass += ' n' + d.uniqueId;\n//     // }\n//     return myClass;\n//   }\n\n//   function highlightActiveNode(uniqueId) {\n//     var nodeData = vis.select('#n' + uniqueId);\n\n//     vis.append(\"svg:circle\")\n//       .attr(\"cx\", nodeData.attr(\"cx\"))\n//       .attr(\"cy\", nodeData.attr(\"cy\"))\n//       .attr(\"r\", nodeData.attr(\"r\"))\n//       .attr(\"class\", \"highlighted\")\n//       .transition()\n//         .duration(200)\n//         .attr(\"r\", parseInt(nodeData.attr(\"r\")) + 10)\n//       .transition()\n//         .delay(200)\n//         .duration(200)\n//         .attr(\"r\", 0)\n//         .remove();\n//   }\n\n \n//   //TODO: move to vis_module\n//   function resizeVis() {\n//     container = document.getElementsByClassName(\"page-content\")[0];\n//     w = container.offsetWidth - 40;\n//     h = container.offsetHeight - 40;\n//     r = w > h ? h : w;\n//     // x = d3.scale.linear().range([0, r]);\n//     // y = d3.scale.linear().range([0, r]);\n\n//     pack.size([r, r]);\n//     zoom.size([w, h]);\n\n//     $(\"svg.bubble-chart\").height(h).width(w);\n//     $(\".outter-g\").attr(\"transform\", \"translate(\" + (w - r) / 2 + \",\" + (h - r) / 2 + \")\");\n\n//     vis.select(\"outter-g\").call(zoom);\n//     update(root);\n//   }\n\n//   window.bubble = {\n//     makeBubbleChart: makeBubbleChart,\n//     updateBubbleChart: update,\n//     getBorderWidth: getBorderWidth,\n//     highlightActiveNode: highlightActiveNode,\n//     resizeVis: resizeVis,\n//     editor: editor,\n//     positionEditor: positionEditor\n//   }\n// })(window);\n\n\n\n// //JUST A TEST:::\n// var background = chrome.extension.getBackgroundPage(),\n//     pageTitle = document.getElementsByClassName('webpage-title')[0],\n//     startTraceButton = document.getElementById('start-tracer'),\n//     stopTraceButton = document.getElementById('stop-tracer');\n\n// bubble.makeBubbleChart(background.codeTree);\n\n// pageTitle.innerHTML = background.sourcePageUrl;\n\n// startTraceButton.addEventListener(\"click\", listenToTrace);\n// stopTraceButton.addEventListener(\"click\", stopListeningToTrace);\n\n// function listenToTrace () {\n//   console.log(\"adding trace listener\");\n\n//   chrome.runtime.onConnect.addListener(receiveFilterTrace);\n//   //background.initTrace();\n\n//   startTraceButton.style.display = 'none';\n//   stopTraceButton.style.display = 'inline-block';\n// }\n\n// function stopListeningToTrace () {\n//   console.log(\"stopping trace listener\");\n\n//   //chrome.runtime.onConnect.removeListener(receiveFilterTrace);\n//   //also need to stop background listener\n//   //chrome.runtime.onMessage.removeListener(receiveFilterTrace);\n//   chrome.runtime.reload();\n\n//   //startTraceButton.style.display = 'inline-block';\n//   //stopTraceButton.style.display = 'none';\n// }\n\n// function receiveFilterTrace (port) {\n//   if (port.name === 'filteredTrace') {\n//     port.onMessage.addListener(function(msg) {\n//       if (msg.type === 'trace2') {\n//         //console.log(\"TRACE2: \", msg);\n//         bubble.highlightActiveNode(msg.data.uniqueId);\n//       }\n//     })\n//   }\n// }\n\n// function goToSourcePage() {\n//   var tabId = background.sourcePageTab;\n//   console.log(\"goToSourcePage: \", tabId);\n//   if (tabId) {\n//     chrome.tabs.update(tabId, {\"selected\": true});\n//   }\n// }\n\n\n// var showEditor = false;\n\n// function showCode () {\n//   $('#side-bar').fadeIn().height($('.bubble-chart').height());\n//   showEditor = true;\n//   bubble.positionEditor();\n// }\n\n// function hideCode () {\n//   $(\"#side-bar\").fadeOut();\n//   showEditor = false;\n// }\n\n// function toggleCode () {\n//   if (showEditor) {\n//     hideCode();\n//   } else {\n//     showCode();\n//   }\n// }\n\n\n\n// $(document).ready(function () {\n//   $('.show-code').click(toggleCode);\n\n//   $(\".close-editor-button\").click(hideCode);\n//   $(\".webpage-title\").click(goToSourcePage);\n\n//   $( \".editor-wrapper\" ).resizable({\n//       handles: 's, w, sw',\n//       // maxHeight: 1000,\n//       // maxWidth: 1000,\n//       minHeight: 100,\n//       minWidth: 200,\n//       stop: function (e) {\n//         window.bubble.editor.resize();\n//         console.log(\"called editor.resize()\");\n//       }\n//     });\n// });\n\n// var resizeDelayTimer;\n\n// $(window).resize(function () {\n//   clearTimeout(resizeDelayTimer);\n//   resizeDelayTimer = setTimeout(bubble.resizeVis, 200);\n// });\n\n\n\n",
    "var TreeUtils = require('./tree_module.js'),\n    DimensionsUtils = require('./dimensions_module.js'),\n    ZoomUtils = require('./zoom_module.js'),\n    EditorUtils = require('./editor_module.js'),\n    TipUtils = require('./tooltip_module.js'),\n    TextUtils = require('./text_module.js'),\n    CircleUtils = require('./circle_module.js'),\n    ColorUtils = require('./color_module.js'),\n    //ExtensionUtils = require('./extension_module.js'),\n    SelectionUtils = require('./selections_module.js');\n\nvar vis,\n    pack,\n    root;\n\nvar BubbleJS = {\n  initVis: function () {\n    // DimensionsUtils.setAllDimensions();\n    var w = DimensionsUtils.getWidth(),\n        h = DimensionsUtils.getHeight();\n    // ZoomUtils.initZoom(w, h);\n    // EditorUtils.initEditor(); //move outside\n    // TipUtils.initToolTip();\n\n    this.initPack();\n\n    vis = d3.select(\"svg.bubble-chart\")\n      .attr(\"width\", w)\n      .attr(\"height\", h)\n      .attr(\"opacity\", 1)\n      .append(\"svg:g\")\n      .attr(\"class\", \"outter-g\")\n      .attr(\"transform\", DimensionsUtils.transformToCenter)\n      .call(ZoomUtils.getZoom())\n      .append(\"svg:g\")\n      .attr(\"class\", \"inner-g\");\n\n    vis.call(TipUtils.getToolTip());\n    $(\"svg.bubble-chart\").css(\"opacity\", 1);\n\n    //ExtensionUtils.setPageTitle(); // move outside\n  },\n\n  //MOVED TO SELECTIONUTILS\n  // getVis: function () {\n  //   return vis;\n  // },\n\n  initPack: function () {\n    var r = DimensionsUtils.getRadius();\n    \n    pack = d3.layout.pack()\n      .sort(null)\n      .size([r, r])\n      .padding(2)\n      .value(TreeUtils.getDataValue);\n  },\n\n  setPackNodes: function (rootNode) {\n    return pack.nodes(rootNode);\n  },\n\n  getPack: function () {\n    return pack;\n  },\n\n  setRoot: function (rootNode) {\n    root = rootNode;\n  },\n\n  getRoot: function () {\n    return root;\n  },\n\n  update: function (rootNode) {\n    var nodes;\n\n    rootNode ? this.setRoot(rootNode) : null;\n    nodes = this.setPackNodes(root);\n    \n    updateCircles(nodes);\n    updateLabels(nodes.filter(TextUtils.hasLabel));\n    //removePaths(); // save for real time or dependencies\n  },\n\n  resizeVis: resizeVis\n\n};\n\nfunction updateCircles (nodes) {\n  var circles = SelectionUtils.getCircles()\n    .data(nodes, function (d) {\n      return d.uniqueId;\n    });\n\n  circles.style(\"stroke\", ColorUtils.getBorderColor);\n\n  CircleUtils.positionCircles();\n      \n  circles.enter().append(\"svg:circle\")\n    .attr(\"id\", CircleUtils.setCircleID)\n    .attr(\"cx\", function(d) { return d.x; })\n    .attr(\"cy\", function(d) { return d.y; })\n    .attr(\"r\", function(d) { return d.r; })\n    .style(\"stroke\", ColorUtils.getBorderColor)\n    .style(\"fill\", ColorUtils.getFillColor)\n    .style(\"stroke-width\", CircleUtils.getBorderWidth)\n    .style(\"opacity\", CircleUtils.getOpacity)\n    .on(\"click\", CircleUtils.onCircleClick)\n    .on('mouseover', CircleUtils.mouseOverCircle)\n    .on('mouseout', CircleUtils.mouseOutCircle);\n\n  circles.exit()\n    .transition()\n      .duration(750)\n      .attr(\"r\", function(d) { return 1e-6; })\n      .remove();\n\n  circles.order();\n}\n\nfunction updateLabels (nodes) {\n  var labels;\n\n  labels = SelectionUtils.getLabels()\n    .data(nodes, function (d) {\n      return d.uniqueId;\n    });\n  \n  labels.text(TextUtils.getLabelText)\n    .transition()\n      .duration(750)\n      .style(\"opacity\", TextUtils.getLabelOpacity)\n      .attr(\"x\", function(d) { return d.x; })\n      .attr(\"y\", function(d) { return d.y; });\n    \n  labels\n    .enter().append(\"svg:text\")\n    .attr(\"x\", function(d) { return d.x; })\n    .attr(\"y\", function(d) { return d.y; })\n    .attr(\"dy\", TextUtils.getLabelVerticalOffset)\n    .attr(\"text-anchor\", \"middle\")\n    .style(\"fill\", '#000')\n    .style(\"font-size\", TextUtils.getFontSize)\n    .style(\"opacity\", 1e-6)\n    .text(TextUtils.getLabelText)\n    .transition()\n      .duration(500)\n      .style(\"opacity\", TextUtils.getLabelOpacity); \n\n  labels.exit()\n    .transition()\n      .duration(500)\n      .style(\"opacity\", 1e-6)\n      .remove();\n\n  labels.order();\n}\n\nfunction resizeVis () {\n  DimensionsUtils.setAllDimensions();\n  var r = DimensionsUtils.getRadius();\n  var w = DimensionsUtils.getWidth();\n  var h = DimensionsUtils.getHeight();\n  var zoom = ZoomUtils.getZoom();\n  pack.size([r, r]);\n  zoom.size([w, h]);\n  $(\"svg.bubble-chart\").height(h).width(w);\n  $(\".outter-g\").attr(\"transform\", DimensionsUtils.transformToCenter());\n  SelectionUtils.getOutterG().call(zoom);\n  BubbleJS.update();\n}\n\nmodule.exports = BubbleJS;",
    "var EditorUtils = require('./editor_module.js'),\n    ColorUtils = require('./color_module.js'),\n    TipUtils = require('./tooltip_module.js'),\n    SelectionUtils = require('./selections_module.js');\n\nvar zoomScale = window.zoomScale;\n\nfunction getBorderWidth (d) {\n  //console.log(\"getBorderWidth: \", 1.5 / window.zoomScale);\n  return 1.5 / window.zoomScale;\n}\n\nvar CircleUtils = {\n\n  setCircleID: function (d) {\n    return 'n' + d.uniqueId;\n  },\n\n  getOpacity: function (d) {\n    if (d.type === 'hidden' || d.name === 'root') {\n      return 1e-6;\n    } else if (d.type === 'file' || d.type === 'inlineScript') {\n      return 1e-6;\n    } else if (d.name === '[Anonymous]') {\n      return 1;\n    } else {\n      return 0.4;\n    }\n  },\n\n  getBorderWidth: getBorderWidth,\n\n  highlightActiveNode: function (uniqueId) {\n    var //vis = d3.select(\"svg.bubble-chart\"),\n        vis = SelectionUtils.getVis(),\n        nodeData = vis.select('#n' + uniqueId);\n\n    vis.append(\"svg:circle\")\n      .attr(\"cx\", nodeData.attr(\"cx\"))\n      .attr(\"cy\", nodeData.attr(\"cy\"))\n      .attr(\"r\", nodeData.attr(\"r\"))\n      .attr(\"class\", \"highlighted\")\n      .transition()\n        .duration(200)\n        .attr(\"r\", parseInt(nodeData.attr(\"r\")) + 10)\n      .transition()\n        .delay(200)\n        .duration(200)\n        .attr(\"r\", 0)\n        .remove();\n  },\n\n  onCircleClick: function (d) {\n    if (d3.event.defaultPrevented) {\n      return;\n    }\n    //clean up old selection:\n    d3.select(\".selected\").style(\"stroke\", ColorUtils.getBorderColor)\n      .classed(\"selected\", false);\n\n    //highlight new selection (clicked circle)\n    d3.select(this).style(\"stroke\", ColorUtils.selfBorderColor)\n      .classed(\"selected\", true);\n    \n    EditorUtils.setEditorContents(d);\n\n    d3.event.stopPropagation();\n  },\n\n  highlightCircle: function (selectedCircle) {\n    //var zoomScale = ZoomUtils.getZoomScale();\n\n    d3.select(\".selected\").style(\"stroke\", ColorUtils.getBorderColor)\n      .classed(\"selected\", false);\n\n    d3.select(selectedCircle)\n      .classed(\"selected\", true)\n      .style(\"opacity\", 1)\n      .style(\"stroke\", \"#000000\")\n      .transition()\n        .duration(750)\n        .style(\"stroke-width\", (5 / zoomScale))\n        .attr(\"r\", function (d) {\n          return d.r + 30 / zoomScale;\n        })\n      .transition()\n        .delay(750)\n        .style(\"stroke-width\", this.getBorderWidth)\n        .style(\"stroke\", ColorUtils.selfBorderColor)\n        .style(\"opacity\", this.getOpacity)\n        .attr(\"r\", function (d) {\n          return d.r;\n        });\n  },\n\n  updateCirclesAfterZoom: function () {\n    var circles = SelectionUtils.getCircles()\n        .style(\"stroke-width\", getBorderWidth);\n  },\n\n  positionCircles: function () {\n    SelectionUtils.getCircles()\n      .transition()\n        .duration(750)\n        .attr(\"cx\", function(d) {return d.x})\n        .attr(\"cy\", function(d) { return d.y; })\n        .attr(\"r\", function(d) { return d.r; });\n  },\n\n  mouseOverCircle: function(d) {\n    if (d.name !== 'root' && d.type !== 'hidden' && (d.name !== '[Anonymous]' || (d.name === '[Anonymous]' && d.parent && (d.parent.type === 'file' || d.parent.type === 'inlineScript') && d.parent.children && d.parent.children.length === 1))) {\n      TipUtils.getToolTip().attr('class', 'd3-tip animate').show(d);\n    }\n  },\n\n  mouseOutCircle: function (d) {\n    var tip = TipUtils.getToolTip();\n\n    tip.attr('class', 'd3-tip').show(d);\n    tip.hide();\n  }\n\n};\n\n\nmodule.exports = CircleUtils;",
    "var TreeUtils = require('./tree_module.js');\n\nvar fillColorList = d3.scale.category10().range(),\n    fillColorListLength = fillColorList.length,\n    backgroundColor = \"#FFF\",\n    selfBorderColor = \"#f33\",\n    anonymousBorderColor = \"#ffcf40\";\n\nfunction getFillColor (d) {\n  var parentFile,\n      sourceIndex,\n      fileFillColor;\n\n  if (!d.parent || d.parent === null) {\n    return backgroundColor;\n  } else if (d.type === 'file') {\n    return backgroundColor;\n  } else if (d.type === 'hidden') {\n    return backgroundColor;\n  } else if (d.name === '[Anonymous]') {\n    return backgroundColor;\n  }\n\n  parentFile = TreeUtils.getParentFile(d);\n  sourceIndex = parentFile.sourceIndex;\n\n  fileFillColor = ColorUtils.fillColor(sourceIndex);\n\n  return parentFile ? fileFillColor : backgroundColor;\n}\n\n\n\nvar ColorUtils = {\n  fillColorList: fillColorList, // TODO: may be able to remove\n  backgroundColor: backgroundColor,\n  selfBorderColor: selfBorderColor,\n  anonymousBorderColor: anonymousBorderColor,\n\n  fillColor: function (domain) {\n    return fillColorList[domain % fillColorListLength];\n  },\n\n  getBorderColor: function (d) {\n    if (d.name === '[Anonymous]') {\n      return anonymousBorderColor;\n    } else if (d.name  === 'root') {\n      return backgroundColor;\n    } else if (d.type === 'file' || d.type === 'inlineScript') {\n      return backgroundColor;\n    } else if (d.type ==='hidden') {\n      return backgroundColor;\n    }else {\n      return getFillColor(d);\n    }\n  },\n\n  getFillColor: getFillColor\n}\n\nmodule.exports = ColorUtils;",
    "var BubbleJS = require('./bubble_js_module.js'),\n    ZoomUtils = require('./zoom_module.js'),\n    SelectionUtils = require('./selections_module.js');\n\nvar container,\n    w,\n    h,\n    r,\n    resizeDelayTimer;\n\nfunction getContainer () {\n  if (!container) {\n    container = document.getElementsByClassName(\"page-content\")[0];\n  }\n  return container;\n}\n\nfunction setWidth () {\n  w = getContainer().offsetWidth - 40;\n}\n\nfunction getWidth () {\n  return w;\n}\n\nfunction setHeight () {\n  h = getContainer().offsetHeight - 40;\n}\n\nfunction getHeight () {\n  return h;\n}\n\nfunction setRadius () {\n  r = w > h ? h : w;\n}\n\nfunction getRadius () {\n  return r;\n}\n\nfunction setAllDimensions () {\n  setWidth();\n  setHeight();\n  setRadius();\n}\n\nfunction transformToCenter () {\n  return \"translate(\" + (w - r) / 2 + \",\" + (h - r) / 2 + \")\";\n}\n\n// function resizeVis () {\n//   setAllDimensions();\n//   BubbleJS.getPack().size([r, r]);\n//   ZoomUtils.getZoom.size([w, h]);\n//   $(\"svg.bubble-chart\").height(h).width(w);\n//   $(\".outter-g\").attr(\"transform\", transformToCenter());\n//   SelectionUtils.getOutterG().call(zoom);\n  \n//   //Could cause trouble!\n//   BubbleJS.update();\n// }\n\n\nvar DimensionsUtils = {\n  getContainer: getContainer,\n\n  setWidth: setWidth,\n\n  getWidth: getWidth,\n\n  setHeight: setHeight,\n\n  getHeight: getHeight,\n\n  setRadius: setRadius,\n\n  getRadius: getRadius,\n\n  setAllDimensions: setAllDimensions,\n\n  transformToCenter: transformToCenter\n};\n\n//TODO: move out into bubble.js\n// $(window).resize(function () {\n//   clearTimeout(resizeDelayTimer);\n//   resizeDelayTimer = setTimeout(DimensionsUtils.resizeVis, 200);\n// });\n\nmodule.exports = DimensionsUtils;",
    "var CircleUtils = require('./circle_module.js'),\n    TreeUtils = require('./tree_module.js');\n\nvar editor = ace.edit(\"editor\"), //TODO: need to require ace module\n    currentEditorNode,\n    currentEditorLoc,\n    showEditor = false;\n\n    //TODO: create initializer for editor, make resize method, and setAnimated scroll method (or just put that one in the init function)\n\nvar EditorUtils = {\n  initEditor: function () {\n    editor = ace.edit(\"editor\");\n    editor.resize(true);\n    editor.setAnimatedScroll(true);\n    initEditorClickListener();\n    initResizableEditorWrapper();\n  },\n\n  setEditorContents: function (d) {\n    var parent,\n        range,\n        code;\n\n    if (d.treeNode) {\n          range = d.treeNode.range;\n\n      parent = TreeUtils.getParentFile(d);\n\n      if (!currentEditorNode || parent.uniqueId !== currentEditorNode.uniquId) {\n        editor.setValue(parent.sourceCode);\n        currentEditorNode = parent;\n      }\n      currentEditorLoc = d.treeNode && d.treeNode.loc ? d.treeNode.loc.start : {line:0, column: 0};\n\n      if (showEditor) {\n        positionEditor();\n      }\n    }\n  },\n\n  positionEditor: positionEditor,\n\n  getCurrentEditorNode: function () {\n    return currentEditorNode;\n  },\n\n  setCurrentEditorNode: function (d) {\n    currentEditorNode = d;\n  },\n\n  getCurrentEditorLoc: function () {\n    return currentEditorLoc;\n  },\n\n  setCurrentEditorLoc: function (d) {\n    currentEditorLoc = d;\n  },\n\n  showCode: showCode,\n\n  hideCode: hideCode,\n\n  toggleCode: toggleCode\n\n};\n\nfunction positionEditor () {\n  if (currentEditorLoc) {\n    editor.resize(true);\n    editor.gotoLine(currentEditorLoc.line, currentEditorLoc.column, true);\n  }\n}\n\nfunction showCode () {\n  $('#side-bar').fadeIn().height($('.bubble-chart').height());\n  positionEditor();\n  showEditor = true;\n}\n\nfunction hideCode () {\n  $(\"#side-bar\").fadeOut();\n  showEditor = false;\n}\n\nfunction toggleCode () {\n  if (showEditor) {\n    hideCode();\n  } else {\n    showCode();\n  }\n}\n\n\n\n\n//private methods\nfunction initEditorClickListener () {\n  $(\"#editor\").click(function () {\n    var position = editor.getCursorPosition();\n\n    //TODO: move Edit Session into init method...\n    var cursorIndex = getCursorIndex();\n\n    var selectedCircle = getNodeFromEditorPosition(cursorIndex);\n    CircleUtils.highlightCircle(selectedCircle);\n  });\n}\n\n//TODO: can I create this new EditSession once and just update the value?\nfunction getCursorIndex () {\n  return new ace.EditSession(editor.getValue()).getDocument().positionToIndex(position);\n}\n\nfunction getNodeFromEditorPosition (cursorIndex) {\n  var smallestNode = findSmallestWrappingNode(cursorIndex, currentEditorNode);\n  \n  if (smallestNode) {\n    return $(\"#n\" + smallestNode.uniqueId)[0];\n  } \n  console.log(\"smallestNode does NOT exist\");\n}\n\nfunction findSmallestWrappingNode (cursorIndex, tmpNode) {\n  var tmpChildren = tmpNode.children,\n      tmpChild;\n\n  if (!tmpChildren || !tmpChildren.length) {\n    return tmpNode;\n  }\n\n  for(var i=0, l = tmpChildren.length; i < l; i++) {\n    tmpChild = tmpChildren[i];\n    if (insideNode(cursorIndex, tmpChild)) {\n      tmpNode = findSmallestWrappingNode(cursorIndex, tmpChild);\n      break;\n    }\n  }\n  return tmpNode;\n}\n\n//returns boolean if current position is inside node\nfunction insideNode (cursorIndex, testNode) {\n  var treeNode = testNode.treeNode,\n      range = treeNode ? treeNode.range : null,\n      start,\n      end;\n\n  if (range) {\n    start = range[0];\n    end = range[1];\n    if (start <= cursorIndex && end >= cursorIndex) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// function initEditorNavigation () {\n//   $('.show-code').click(EditorUtils.toggleCode);\n//   $(\".close-editor-button\").click(EditorUtils.hideCode);\n// }\n\nfunction initResizableEditorWrapper () {\n  $( \".editor-wrapper\" ).resizable({\n      handles: 's, w, sw',\n      minHeight: 100,\n      minWidth: 200,\n      stop: function (e) {\n        editor.resize();\n        console.log(\"called editor.resize()\");\n      }\n    });\n}\n\n\nmodule.exports = EditorUtils;",
    "var backgroundPage;\n\nconsole.log(\"ExtensionUtils loaded...\");\n\nvar ExtensionUtils = {\n    getBackgroundPage: function () {\n      if (!backgroundPage) {\n        backgroundPage = chrome.extension.getBackgroundPage();\n      }\n      return backgroundPage;\n    },\n\n    getPageTitleElement: function () {\n      return document.getElementsByClassName('webpage-title')[0];\n    },\n\n    setPageTitle: function () {\n      this.getPageTitleElement().innerHTML = this.getBackgroundPage().sourcePageUrl;\n    },\n\n    getCodeTree: function () {\n      return this.getBackgroundPage().codeTree;\n    },\n\n    goToSourcePage: function () {\n      var tabId = this.getBackgroundPage().sourcePageTab;\n      console.log(\"goToSourcePage: \", tabId);\n      if (chrome.tabs.get(tabId)) {\n        chrome.tabs.update(tabId, {\"selected\": true});\n      } else {\n        console.log(\"Source Page Tab does not exist anymore.\");\n      }\n    },\n\n    getReactComponentRoot: function () {\n      return this.getBackgroundPage().getReactComponents();\n    }\n};\n\n\n\nmodule.exports = ExtensionUtils;",
    "var BubbleJS = require('./bubble_js_module.js'),\n    ExtensionUtils = require('./extension_module.js');\n\nvar ReactUtils = {\n  bubbleVis: function () {\n    var root = ExtensionUtils.getReactComponentRoot();\n    //var root = chrome.\n\n    console.log(\"React Components Root: \", root);\n    //BubbleJS.update(root);\n  }\n}\n\nmodule.exports = ReactUtils;",
    "\nvar vis;\n\nvar SelectionUtils = {\n  getVis: function () {\n    if (!vis){\n      vis = d3.select(\"svg.bubble-chart .inner-g\");\n    }\n\n    return vis;\n  },\n\n  getCircles: function () {\n    return this.getVis().selectAll(\"circle\");\n  },\n\n  getLabels: function () {\n    return this.getVis().selectAll(\"text\");\n  },\n\n  getOutterG: function () {\n    return this.getVis().select(\".outter-g\");\n  }\n};\n\nmodule.exports = SelectionUtils;",
    "var SelectionUtils = require('./selections_module.js');\n\nvar zoomScale = window.zoomScale;\n\nfunction getToolTipText (d) {\n  if (d.type === 'file') {\n    return getBaseFileName(d.name);\n  } else if (d.name === '[Anonymous]') { //assuming parent is script and only has 1 child\n    return d.parent.name;\n  } else {\n    return d.name;\n  }\n}\n\nfunction getBaseFileName (name) {\n  var nameSplit = name.split('/');\n\n  return removeFileNameCash(nameSplit[(nameSplit.length - 1)]);\n}\n\nfunction removeFileNameCash (name) {\n  var cashSplit = name.split('?');\n\n  if (cashSplit.length > 1) {\n    cashSplit.pop();\n  }\n\n  return cashSplit.join('');\n}\n\nfunction hasLabel (d) {\n  return d.name !== '[Anonymous]' && d.name !== 'root';\n}\n\nfunction isHidden () {\n  return this.style.opacity === '1e-06';\n}\n\nfunction isVisible() {\n  return !isHidden();\n}\n\nfunction getLabelOpacity (d) {\n  if (d.r * zoomScale < 15) {\n    return 1e-6;\n  } else {\n    return 1;\n  }\n}\n\nfunction getLabelText (d) {\n  var text = getToolTipText(d),\n      letterWidth = getFontSize(d);\n\n  return text ? text.slice(0, parseInt(d.r * zoomScale / letterWidth * 2 + 2)) : '';\n}\n\nfunction getFontSize (d) {\n  var fontSize;\n\n  if (d.type === 'file' || d.type === 'inlineScript') {\n    fontSize = 20;\n  } else if (d.children && d.children.length) {\n    fontSize = 12;\n  } else {\n    fontSize = 11;\n  }\n\n  return fontSize / zoomScale;\n}\n\nfunction getLabelVerticalOffset (d) {\n  if (d.type === 'file' || d.type === 'inlineScript') {\n    return -0.75 * d.r;\n  } else if (d.r * zoomScale > 20 && d.children && d.children.length < 3 && d.children.length) {\n    //hack to avoid most common label collisions\n    return -11 / zoomScale;\n  } else {\n    return 3 / zoomScale;\n  }\n}\n\nfunction updateLabelsAfterZoom () {\n  var labels = SelectionUtils.getLabels();\n\n  labels.attr(\"dy\", getLabelVerticalOffset);\n  labels.filter(function (d) {\n    isHidden.bind(this);\n  })\n    .style('font-size', getFontSize)\n    .text(getLabelText)\n    .transition()\n      .duration(500)\n      .style(\"opacity\", getLabelOpacity);\n\n  labels.filter(function (d) {\n    isVisible.bind(this);\n  })\n    .transition()\n      .duration(500)\n      .style(\"font-size\", getFontSize)\n      .style(\"opacity\", getLabelOpacity)\n    .transition()\n      .delay(500)\n      .text(getLabelText);\n}\n\n\nvar TextUtils = {\n  getToolTipText: getToolTipText,\n  getBaseFileName: getBaseFileName,\n  removeFileNameCash: removeFileNameCash,\n  hasLabel: hasLabel,\n  isHidden: isHidden, //NOTE: 'this' refers to the selected circle, not to TextUtils\n  isVisible: isVisible,\n  getLabelOpacity: getLabelOpacity,\n  getLabelText: getLabelText,\n  getFontSize: getFontSize,\n  getLabelVerticalOffset: getLabelVerticalOffset,\n  updateLabelsAfterZoom: updateLabelsAfterZoom\n};\n\nmodule.exports = TextUtils;",
    "var TextUtils = require('./text_module.js');\n\nvar tip;\n\nvar TipUtils = {\n\n  initToolTip: function () {\n    tip = d3.tip().attr('class', 'd3-tip').html(TextUtils.getToolTipText);\n  },\n\n  getToolTip: function () {\n    return tip;\n  }\n};\n\nmodule.exports = TipUtils;",
    "var TreeUtils = {\n  getParentFile: function (d) {\n    var temp = d;\n    while(temp.parent) {\n      //TODO: handle inlineScripts differently\n      if (temp.type === 'file' || temp.type === 'inlineScript') {\n        return temp;\n      }\n      temp = temp.parent;\n    }\n    return null;\n  },\n\n  getDataValue: function(d) { \n    if (d.range) {\n      return d.range[1] - d.range[0];\n    } else {\n      return 1;\n    }\n  }\n};\n\nmodule.exports = TreeUtils;",
    "window.zoomScale = 1;\n\nvar CircleUtils = require('./circle_module.js'),\n    TextUtils = require('./text_module.js'),\n    SelectionUtils = require('./selections_module.js');\n\nvar zoom,\n    oldZoomScale = 1;\n\nvar ZoomUtils = {\n\n  initZoom: function (w, h) {\n    zoom = d3.behavior.zoom()\n      .translate([0, 0])\n      .center(null)\n      .scaleExtent([1, 50])\n      .size([w, h])\n      .on(\"zoom\", zoomed)\n      .on(\"zoomstart\", zoomStarted)\n      .on(\"zoomend\", zoomEnded);\n\n    setGlobalZoomScale(zoom.scale());\n  },\n\n  getZoom: function () {\n    return zoom;\n  },\n\n  getZoomScale: function () {\n    return zoom.scale();\n  }\n};\n\nfunction zoomStarted () {}\n\nfunction zoomed () {\n  SelectionUtils.getVis().attr(\"transform\", \"translate(\" + d3.event.translate + \")scale(\" + d3.event.scale + \")\");\n}\n\nfunction zoomEnded (e) {\n  var zoomScale = zoom.scale();\n\n  if (zoomScale === oldZoomScale) {\n    d3.event && d3.event.sourceEvent ? d3.event.sourceEvent.preventDefault() : null;\n    return;\n  }\n  setGlobalZoomScale(zoomScale);\n  CircleUtils.updateCirclesAfterZoom();\n  TextUtils.updateLabelsAfterZoom();\n  oldZoomScale = zoomScale;\n}\n\nfunction setGlobalZoomScale (scale) {\n  console.log(\"setting setGlobalZoomScale: \", scale);\n  window.zoomScale = scale;\n}\n\n\nmodule.exports = ZoomUtils;"
  ]
}